import{o as a}from"./studioIntro-O_sxp5-0-tVXNY97g.js";import{c as e}from"./index-DdPmJgzX-CCYd_JwC.js";import{a as s}from"./ScrollTrigger-DCpM8Jsh-DqdzteXq.js";import{l as t,_ as l,v as n,V as i,w as c,z as o,E as r,B as p,r as d,C as u,D as g,F as v,G as f,X as y,t as m,a as h,o as b,H as T,N as k,Z as S,J as _,c as w,q as x,U as E,d as H,g as A,h as O,j as U,I as j,e as D}from"./index-CXpj-iG1.js";const M={key:0,class:"panel loading-panel"},P={class:"panel-content"},B={class:"panel-content"},I={class:"panel-header"},J={class:"panel-titles"},L={class:"panel-title"},R={key:0,class:"panel-title-en"},X=["innerHTML"],q={class:"panel-index"},z=t({__name:"About",setup(t){e.registerPlugin(s);const z=l([]),C=l(!0),N=l(null),F=l([]);let G=[];const K={OfficeBuilding:n(f),Aim:n(v),Medal:n(g),Phone:n(u),User:n(d),Star:n(p),Trophy:n(r),Document:n(o),Setting:n(c),Location:n(i)},V=["color-cyber","color-purple","color-blue","color-orange","color-green"],Y=a=>V[a%V.length],Z=()=>{G.forEach(a=>a.kill()),G=[],m(()=>{const a=e.utils.toArray(".intro-panel");if(0===a.length)return;a.forEach((s,t)=>{if(t===a.length-1)return;const l=e.timeline({scrollTrigger:{trigger:s,start:"bottom bottom",pinSpacing:!1,pin:!0,scrub:!0,onRefresh:()=>{e.set(s,{transformOrigin:"center "+(s.offsetHeight-window.innerHeight/2)+"px"})}}});l.fromTo(s,{y:0,rotate:0,scale:1,opacity:1},{y:0,rotateX:0,scale:.5,opacity:.5},0).to(s,{opacity:0,duration:.1}),G.push(l.scrollTrigger)});const t=document.querySelector(".title-panel");if(t){const a=e.timeline({scrollTrigger:{trigger:t,start:"bottom bottom",pinSpacing:!1,pin:!0,scrub:!0}});a.fromTo(t,{scale:1,opacity:1},{scale:.8,opacity:0}),G.push(a.scrollTrigger)}s.refresh()})};return y(C,a=>{!a&&z.value.length>0&&m(()=>{setTimeout(Z,100)})}),h(()=>{(async()=>{try{C.value=!0;const e=await a();z.value=e.data||[]}catch(e){z.value=[]}finally{C.value=!1}})()}),b(()=>{G.forEach(a=>a.kill()),G=[]}),(a,e)=>{const s=H("el-skeleton"),t=H("el-empty");return k(),T("div",{class:"about-page",ref_key:"aboutPageRef",ref:N},[e[1]||(e[1]=S('<section class="panel title-panel" data-v-ac1030e0><div class="panel-content" data-v-ac1030e0><h1 class="page-title" data-v-ac1030e0><span class="flip-char" style="animation-delay:0s;" data-v-ac1030e0>关</span><span class="flip-char" style="animation-delay:0.2s;" data-v-ac1030e0>于</span><span class="flip-char" style="animation-delay:0.4s;" data-v-ac1030e0>我</span><span class="flip-char" style="animation-delay:0.6s;" data-v-ac1030e0>们</span></h1><p class="subtitle" data-v-ac1030e0>ABOUT US</p><div class="scroll-hint" data-v-ac1030e0><span data-v-ac1030e0>向下滚动</span><div class="scroll-arrow" data-v-ac1030e0></div></div></div></section>',1)),C.value?(k(),T("section",M,[x("div",P,[E(s,{rows:5,animated:""})])])):(k(),T(A,{key:1},[(k(!0),T(A,null,O(z.value,(a,e)=>{return k(),T("section",{key:a.id,class:U(["panel intro-panel",Y(e)]),ref_for:!0,ref_key:"panelRefs",ref:F},[x("div",B,[x("div",I,[a.icon&&K[a.icon]?(k(),w(j(K[a.icon]),{key:0,class:"panel-icon"})):_("",!0),x("div",J,[x("h1",L,D(a.title),1),a.titleEn?(k(),T("span",R,D(a.titleEn),1)):_("",!0)])]),x("div",{class:"panel-body",innerHTML:(s=a.content,s?s.replace(/\n/g,"<br>"):"")},null,8,X),x("div",q,D(String(e+1).padStart(2,"0")),1)])],2);var s}),128)),e[0]||(e[0]=x("section",{class:"panel end-panel"},[x("div",{class:"panel-content"},[x("h1",{class:"end-title"},"感谢浏览"),x("p",{class:"end-subtitle"},"THANK YOU")])],-1))],64)),C.value||0!==z.value.length?_("",!0):(k(),w(t,{key:2,description:"暂无介绍内容",class:"empty-state"}))],512)}}},[["__scopeId","data-v-ac1030e0"]]);export{z as default};
