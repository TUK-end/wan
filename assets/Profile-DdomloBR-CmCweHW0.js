import{l as a,$ as e,_ as l,a as t,H as u,N as s,q as d,U as o,p as n,d as m,b as c,K as i,u as r}from"./index-CXpj-iG1.js";import{d as p}from"./danmu-Bwh-s-Om-BgVir-Fi.js";const f={class:"profile-page"},b={class:"container"},v=a({__name:"Profile",setup(a){const v=e(),_=l("info"),V=l({}),h=l([]),y=async()=>{try{await i(V.value),r.success("更新成功"),await v.fetchUserInfo()}catch(a){}};return t(()=>{V.value={...v.userInfo},(async()=>{try{const a=await p();h.value=a.data.list}catch(a){}})()}),(a,e)=>{const l=m("el-input"),t=m("el-form-item"),i=m("el-button"),r=m("el-form"),p=m("el-tab-pane"),v=m("el-table-column"),w=m("el-table"),U=m("el-tabs");return s(),u("div",f,[d("div",b,[e[4]||(e[4]=d("h1",{class:"page-title"},"个人中心",-1)),o(U,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=a=>_.value=a)},{default:n(()=>[o(p,{label:"个人信息",name:"info"},{default:n(()=>[o(r,{model:V.value,"label-width":"100px"},{default:n(()=>[o(t,{label:"用户名"},{default:n(()=>[o(l,{modelValue:V.value.username,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value.username=a),disabled:""},null,8,["modelValue"])]),_:1}),o(t,{label:"邮箱"},{default:n(()=>[o(l,{modelValue:V.value.email,"onUpdate:modelValue":e[1]||(e[1]=a=>V.value.email=a)},null,8,["modelValue"])]),_:1}),o(t,null,{default:n(()=>[o(i,{type:"primary",onClick:y},{default:n(()=>[...e[3]||(e[3]=[c("保存",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),o(p,{label:"我的弹幕",name:"danmu"},{default:n(()=>[o(w,{data:h.value,style:{width:"100%"}},{default:n(()=>[o(v,{prop:"content",label:"内容"}),o(v,{prop:"createTime",label:"发送时间"})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])])])}}},[["__scopeId","data-v-cbccacec"]]);export{v as default};
