import{_ as a,u as e,r as l,o as t,e as u,f as s,j as o,g as d,i as n,k as m,l as c,U as i,H as r}from"./index-D6waMthZ.js";import{a as f}from"./danmu-Bwh-s-Om.js";const p={class:"profile-page"},b={class:"container"},v=a({__name:"Profile",setup(a){const v=e(),_=l("info"),V=l({}),y=l([]),h=async()=>{try{await i(V.value),r.success("更新成功"),await v.fetchUserInfo()}catch(a){}};return t(()=>{V.value={...v.userInfo},(async()=>{try{const a=await f();y.value=a.data.list}catch(a){}})()}),(a,e)=>{const l=m("el-input"),t=m("el-form-item"),i=m("el-button"),r=m("el-form"),f=m("el-tab-pane"),v=m("el-table-column"),w=m("el-table"),U=m("el-tabs");return s(),u("div",p,[o("div",b,[e[4]||(e[4]=o("h1",{class:"page-title"},"个人中心",-1)),d(U,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=a=>_.value=a)},{default:n(()=>[d(f,{label:"个人信息",name:"info"},{default:n(()=>[d(r,{model:V.value,"label-width":"100px"},{default:n(()=>[d(t,{label:"用户名"},{default:n(()=>[d(l,{modelValue:V.value.username,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value.username=a),disabled:""},null,8,["modelValue"])]),_:1}),d(t,{label:"邮箱"},{default:n(()=>[d(l,{modelValue:V.value.email,"onUpdate:modelValue":e[1]||(e[1]=a=>V.value.email=a)},null,8,["modelValue"])]),_:1}),d(t,null,{default:n(()=>[d(i,{type:"primary",onClick:h},{default:n(()=>[...e[3]||(e[3]=[c("保存",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d(f,{label:"我的弹幕",name:"danmu"},{default:n(()=>[d(w,{data:y.value,style:{width:"100%"}},{default:n(()=>[d(v,{prop:"content",label:"内容"}),d(v,{prop:"createTime",label:"发送时间"})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])])])}}},[["__scopeId","data-v-cbccacec"]]);export{v as default};
