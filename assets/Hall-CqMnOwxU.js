import{_ as a,r as e,o as l,e as s,f as t,j as n,s as r,g as u,i,k as c,F as o,x as d,v as p,m as v,h as g,q as y,t as m,l as h,p as f,C as b}from"./index-CYfi38du.js";import{g as _}from"./celebrity-BofdgKeQ.js";const x={class:"hall-page"},C={class:"container"},L={class:"filter-bar"},k={class:"badge-text"},V={key:1,class:"score-badge"},w={class:"score-number"},S=["src"],U={class:"celebrity-field"},j={class:"celebrity-desc"},z={class:"celebrity-stats"},B={key:0},F=a({__name:"Hall",setup(a){const F=p(),I=e([]),P=e(""),$=e(""),q=e("rating"),H=e(1),M=e(12),O=e(0),T=async()=>{try{const a=await _({page:H.value,size:M.value,keyword:P.value,field:$.value,sortBy:q.value});I.value=a.data.list,O.value=a.data.total}catch(a){}},Z=()=>{H.value=1,T()},A=()=>{H.value=1,T()},D=()=>{H.value=1,T()},E=()=>{T()};return l(()=>{T()}),(a,e)=>{const l=c("Search"),p=c("el-icon"),_=c("el-input"),T=c("el-option"),G=c("el-select"),J=c("Star"),K=c("el-card"),N=c("el-col"),Q=c("el-row"),R=c("el-pagination");return t(),s("div",x,[n("div",C,[e[6]||(e[6]=r('<h1 class="page-title" data-v-a264a703><span class="flip-char" style="animation-delay:0s;" data-v-a264a703>网</span><span class="flip-char" style="animation-delay:0.15s;" data-v-a264a703>安</span><span class="flip-char" style="animation-delay:0.3s;" data-v-a264a703>名</span><span class="flip-char" style="animation-delay:0.45s;" data-v-a264a703>人</span><span class="flip-char" style="animation-delay:0.6s;" data-v-a264a703>堂</span></h1>',1)),n("div",L,[u(_,{modelValue:P.value,"onUpdate:modelValue":e[0]||(e[0]=a=>P.value=a),placeholder:"搜索名人...",style:{width:"300px"},onInput:Z},{prefix:i(()=>[u(p,null,{default:i(()=>[u(l)]),_:1})]),_:1},8,["modelValue"]),u(G,{modelValue:$.value,"onUpdate:modelValue":e[1]||(e[1]=a=>$.value=a),placeholder:"选择领域",onChange:A,clearable:""},{default:i(()=>[u(T,{label:"密码学",value:"cryptography"}),u(T,{label:"网络攻防",value:"security"}),u(T,{label:"安全理论",value:"theory"})]),_:1},8,["modelValue"]),u(G,{modelValue:q.value,"onUpdate:modelValue":e[2]||(e[2]=a=>q.value=a),placeholder:"排序方式",onChange:D},{default:i(()=>[u(T,{label:"按评分排序",value:"rating"}),u(T,{label:"默认排序",value:""})]),_:1},8,["modelValue"])]),u(Q,{gutter:20,class:"celebrity-list"},{default:i(()=>[(t(!0),s(o,null,d(I.value,(a,l)=>(t(),v(N,{xs:24,sm:12,md:8,lg:6,key:a.id},{default:i(()=>[u(K,{class:"celebrity-card",onClick:e=>{return l=a.id,void F.push(`/hall/${l}`);var l}},{default:i(()=>[l<3&&1===H.value&&"rating"===q.value?(t(),s("div",{key:0,class:y(["top-badge",`top-${l+1}`])},[e[4]||(e[4]=n("div",{class:"badge-icon"},[n("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[n("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})])],-1)),n("span",k,"TOP"+m(l+1),1)],2)):g("",!0),a.averageScore>0?(t(),s("div",V,[n("span",w,m(a.averageScore.toFixed(1)),1),e[5]||(e[5]=n("span",{class:"score-label"},"分",-1))])):g("",!0),n("img",{src:a.avatar,class:"celebrity-avatar"},null,8,S),n("h3",null,m(a.name),1),n("p",U,m(a.field),1),n("p",j,m(a.description),1),n("div",z,[n("span",null,[u(p,null,{default:i(()=>[u(J)]),_:1}),h(" "+m(a.likes),1)]),a.ratingCount>0?(t(),s("span",B,[u(p,null,{default:i(()=>[u(f(b))]),_:1}),h(" "+m(a.ratingCount)+"人评分",1)])):g("",!0)])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),u(R,{"current-page":H.value,"onUpdate:currentPage":e[3]||(e[3]=a=>H.value=a),"page-size":M.value,total:O.value,layout:"prev, pager, next",onCurrentChange:E},null,8,["current-page","page-size","total"])])])}}},[["__scopeId","data-v-a264a703"]]);export{F as default};
