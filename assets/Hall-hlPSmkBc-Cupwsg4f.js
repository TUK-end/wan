import{l as a,_ as e,a as l,H as s,N as t,q as n,Z as r,U as u,p as c,d as i,g as d,h as o,c as p,f as v,J as y,j as g,e as h,b as m,A as f,r as b}from"./index-CXpj-iG1.js";import{i as _}from"./celebrity-Dpk6slWv-CjbodMFZ.js";const L={class:"hall-page"},k={class:"container"},x={class:"filter-bar"},C={class:"badge-text"},V={key:1,class:"score-badge"},w={class:"score-number"},U=["src"],S={class:"celebrity-field"},j={class:"celebrity-desc"},z={class:"celebrity-stats"},B={key:0},H=a({__name:"Hall",setup(a){const H=v(),I=e([]),P=e(""),Z=e(""),$=e("rating"),q=e(1),A=e(12),D=e(0),F=async()=>{try{const a=await _({page:q.value,size:A.value,keyword:P.value,field:Z.value,sortBy:$.value});I.value=a.data.list,D.value=a.data.total}catch(a){}},J=()=>{q.value=1,F()},M=()=>{q.value=1,F()},N=()=>{q.value=1,F()},O=()=>{F()};return l(()=>{F()}),(a,e)=>{const l=i("Search"),v=i("el-icon"),_=i("el-input"),F=i("el-option"),T=i("el-select"),W=i("Star"),E=i("el-card"),G=i("el-col"),K=i("el-row"),Q=i("el-pagination");return t(),s("div",L,[n("div",k,[e[6]||(e[6]=r('<h1 class="page-title" data-v-a264a703><span class="flip-char" style="animation-delay:0s;" data-v-a264a703>网</span><span class="flip-char" style="animation-delay:0.15s;" data-v-a264a703>安</span><span class="flip-char" style="animation-delay:0.3s;" data-v-a264a703>名</span><span class="flip-char" style="animation-delay:0.45s;" data-v-a264a703>人</span><span class="flip-char" style="animation-delay:0.6s;" data-v-a264a703>堂</span></h1>',1)),n("div",x,[u(_,{modelValue:P.value,"onUpdate:modelValue":e[0]||(e[0]=a=>P.value=a),placeholder:"搜索名人...",style:{width:"300px"},onInput:J},{prefix:c(()=>[u(v,null,{default:c(()=>[u(l)]),_:1})]),_:1},8,["modelValue"]),u(T,{modelValue:Z.value,"onUpdate:modelValue":e[1]||(e[1]=a=>Z.value=a),placeholder:"选择领域",onChange:M,clearable:""},{default:c(()=>[u(F,{label:"密码学",value:"cryptography"}),u(F,{label:"网络攻防",value:"security"}),u(F,{label:"安全理论",value:"theory"})]),_:1},8,["modelValue"]),u(T,{modelValue:$.value,"onUpdate:modelValue":e[2]||(e[2]=a=>$.value=a),placeholder:"排序方式",onChange:N},{default:c(()=>[u(F,{label:"按评分排序",value:"rating"}),u(F,{label:"默认排序",value:""})]),_:1},8,["modelValue"])]),u(K,{gutter:20,class:"celebrity-list"},{default:c(()=>[(t(!0),s(d,null,o(I.value,(a,l)=>(t(),p(G,{xs:24,sm:12,md:8,lg:6,key:a.id},{default:c(()=>[u(E,{class:"celebrity-card",onClick:e=>{return l=a.id,void H.push(`/hall/${l}`);var l}},{default:c(()=>[l<3&&1===q.value&&"rating"===$.value?(t(),s("div",{key:0,class:g(["top-badge",`top-${l+1}`])},[e[4]||(e[4]=n("div",{class:"badge-icon"},[n("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[n("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})])],-1)),n("span",C,"TOP"+h(l+1),1)],2)):y("",!0),a.averageScore>0?(t(),s("div",V,[n("span",w,h(a.averageScore.toFixed(1)),1),e[5]||(e[5]=n("span",{class:"score-label"},"分",-1))])):y("",!0),n("img",{src:a.avatar,class:"celebrity-avatar"},null,8,U),n("h3",null,h(a.name),1),n("p",S,h(a.field),1),n("p",j,h(a.description),1),n("div",z,[n("span",null,[u(v,null,{default:c(()=>[u(W)]),_:1}),m(" "+h(a.likes),1)]),a.ratingCount>0?(t(),s("span",B,[u(v,null,{default:c(()=>[u(f(b))]),_:1}),m(" "+h(a.ratingCount)+"人评分",1)])):y("",!0)])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),u(Q,{"current-page":q.value,"onUpdate:currentPage":e[3]||(e[3]=a=>q.value=a),"page-size":A.value,total:D.value,layout:"prev, pager, next",onCurrentChange:O},null,8,["current-page","page-size","total"])])])}}},[["__scopeId","data-v-a264a703"]]);export{H as default};
